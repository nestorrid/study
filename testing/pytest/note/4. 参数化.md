# 4. 参数化

当需要对不同的参数进行同样的测试时便可以使用参数化用例.



```python
@pytest.mark.parametrize(
    argnames=["x", "y"],
    argvalues=[(1, 2), (3, 4)],
    ids=['TC-1', 'TC-2']
)
def test_params(x, y):
    """
    argnames: 用例接受的形参名字, 元组或列表
    argvalues: 实参的值, 元组或列表组成的元组或列表
    ids: 用例编号
    """
    print(f"{x} + {y} = { x + y}")

```



`ids`和`argvalues`两个参数的长度必须相同



## 叠加参数

测试用例可以包含多个`parametrize`装饰器,  多个装饰器的参数会进行交叉匹配, 对所有可能的组合形式进行测试.

```python
@pytest.mark.parametrize(["a"], [(1,), (2,), (3,)])
@pytest.mark.parametrize(["b", "c"], [(1, 2), (2, 3), (3, 4)])
def test_combinations(a, b, c):
    """
    a有3种组合
    b,c 共有3种组合
    总共执行9次测试
    """
    print(f'a,b,c is {a!r}, {b!r}, {c!r}')


@pytest.mark.parametrize(["a"], [(1,), (2,), (3,)])
@pytest.mark.parametrize(["b"], [(1,), (2,), (3,)])
@pytest.mark.parametrize(["c"], [(1,), (2,), (3,)])
def test_combinations_2(a, b, c):
    """
    a,b,c各有3种组合, 总共执行27次
    """
    print(f'a,b,c is {a!r}, {b!r}, {c!r}')

```

